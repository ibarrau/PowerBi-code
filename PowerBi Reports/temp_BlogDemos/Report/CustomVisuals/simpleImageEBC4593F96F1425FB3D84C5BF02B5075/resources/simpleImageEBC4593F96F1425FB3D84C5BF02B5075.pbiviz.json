{"visual":{"name":"simpleImage","displayName":"Simple Image","guid":"simpleImageEBC4593F96F1425FB3D84C5BF02B5075","visualClassName":"Visual","version":"1.0.2","description":"Shows a simple image.","supportUrl":"https://nextanalytics.co.uk/simple-image","gitHubUrl":"https://github.com/vincefaigt/pbi-simpleimage"},"apiVersion":"1.13.0","author":{"name":"Vincent Faigt","email":"vincent.faigt@outlook.com"},"assets":{"icon":"assets/icon.png"},"externalJS":["node_modules/powerbi-visuals-utils-dataviewutils/lib/index.js"],"style":"style/visual.less","capabilities":{"suppressDefaultTitle":true,"dataRoles":[{"displayName":"Image URL","name":"imageURL","kind":"Grouping"},{"displayName":"Alt Text","name":"altText","kind":"Grouping"}],"objects":{"imageSettings":{"displayName":"Image settings","properties":{"scalingMode":{"displayName":"Scaling","type":{"enumeration":[{"displayName":"Normal","value":"normal"},{"displayName":"Fit","value":"fit"},{"displayName":"None","value":"none"}]}},"imageAlignment":{"displayName":"Image alignment","type":{"enumeration":[{"displayName":"Top Left","value":"left"},{"displayName":"Top Center","value":"center"},{"displayName":"Top Right","value":"right"},{"displayName":"Middle Left","value":"mleft"},{"displayName":"Middle Center","value":"mcenter"},{"displayName":"Middle Right","value":"mright"}]}}}},"altTextSettings":{"displayName":"Alt text","properties":{"show":{"displayName":"Show","type":{"bool":true}},"fontColor":{"displayName":"Font color","type":{"fill":{"solid":{"color":true}}}},"backgroundColor":{"displayName":"Background color","type":{"fill":{"solid":{"color":true}}}},"textAlign":{"displayName":"Alignment","type":{"formatting":{"alignment":true}}},"fontSize":{"displayName":"Text size","type":{"formatting":{"fontSize":true}}},"fontFamily":{"displayName":"Font family","type":{"enumeration":[{"value":"Arial","displayName":"Arial"},{"value":"Arial Black","displayName":"Arial Black"},{"value":"Arial Unicode MS","displayName":"Arial Unicode MS"},{"value":"Calibri","displayName":"Calibri"},{"value":"Cambria","displayName":"Cambria"},{"value":"Cambria Math","displayName":"Cambria Math"},{"value":"Candara","displayName":"Candara"},{"value":"Comic Sans MS","displayName":"Comic Sans MS"},{"value":"Consolas","displayName":"Consolas"},{"value":"Constantia","displayName":"Constantia"},{"value":"Corbel","displayName":"Corbel"},{"value":"Courier New","displayName":"Courier New"},{"value":"Georgia","displayName":"Georgia"},{"value":"Lucida Sans Unicode","displayName":"Lucida Sans Unicode"},{"value":"Segoe (Bold)","displayName":"Segoe (Bold)"},{"value":"Segoe UI","displayName":"Segoe UI"},{"value":"Segoe UI Light","displayName":"Segoe UI Light"},{"value":"Symbol","displayName":"Symbol"},{"value":"Tahoma","displayName":"Tahoma"},{"value":"Times New Roman","displayName":"Times New Roman"},{"value":"Trebuchet MS","displayName":"Trebuchet MS"},{"value":"Verdana","displayName":"Verdana"},{"value":"Wingdings","displayName":"Wingdings"}]}}}}},"dataViewMappings":[{"conditions":[{"imageURL":{"min":0,"max":1},"altText":{"min":0,"max":1}}],"categorical":{"categories":{"for":{"in":"category"},"dataReductionAlgorithm":{"top":{}}},"values":{"select":[{"bind":{"to":"imageURL"}},{"bind":{"to":"altText"}}]}}}]},"stringResources":{},"content":{"js":"var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,n){void 0===t&&(t=[]);var r=t;return i(r),e&&(r.identityFields=e),n&&(r.source=n),r}function i(t,e){t.grouped=e?function(){return e}:function(){return n(t)}}function n(t){for(var e,i=[],n=0,r=t.length;r>n;n++){var a=t[n];if(!e||e.identity!==a.identity){if(e={values:[]},a.identity){e.identity=a.identity;var s=a.source;void 0!==s.groupName?e.name=s.groupName:s.displayName&&(e.name=s.displayName)}i.push(e)}e.values.push(a)}return i}t.createValueColumns=e,t.setGrouped=i,t.groupValues=n}(e=t.DataViewTransform||(t.DataViewTransform={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e){if(!t||!t.length)return-1;var i=t[0];if(i.values&&i.values.length>0)for(var r=0,a=i.values.length;a>r;++r){var s=i.values[r];if(s&&s.source&&n(s.source,e))return r}return-1}function i(t,e){if(t&&t.length)for(var i=0,r=t.length;r>i;i++)if(n(t[i].source,e))return i;return-1}function n(t,e){var i=t.roles;return i&&i[e]}function r(t,e){return null!=t&&null!=t.metadata&&t.metadata.columns&&t.metadata.columns.some(function(t){return t.roles&&void 0!==t.roles[e]})}function a(t,e){return t&&t.source&&t.source.roles&&t.source.roles[e]===!0}t.getMeasureIndexOfRole=e,t.getCategoryIndexOfRole=i,t.hasRole=n,t.hasRoleInDataView=r,t.hasRoleInValueColumn=a}(e=t.DataRoleHelper||(t.DataRoleHelper={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,i){if(!t)return i;var n=t[e];return void 0===n?i:n}function i(t,i,n){var r=e(t,i);return r&&r.solid?r.solid.color:n}t.getValue=e,t.getFillColorByPropertyName=i}(e=t.DataViewObject||(t.DataViewObject={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){function i(e,i,n){return e?t.DataViewObject.getValue(e[i.objectName],i.propertyName,n):n}function n(t,e,i){return t&&t[e]?t[e]:i}function r(t,e,n){var r=i(t,e);return r&&r.solid?r.solid.color:n}function a(t,e,n){var r=i(t,e,n);return r&&r.solid?r.solid.color:void 0===r||null===r||\"object\"==typeof r&&!r.solid?n:r}e.getValue=i,e.getObject=n,e.getFillColor=r,e.getCommonValue=a}(e=t.DataViewObjects||(t.DataViewObjects={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var i;!function(e){var i;!function(e){var i,n=t.extensibility.utils.dataview.DataRoleHelper;!function(t){function e(t,e,i){if(t.categories&&t.categories.length>0){var r=t.categories[0];return r.source&&n.hasRole(r.source,e)&&n.hasRole(r.source,i)}return!1}function i(t){return void 0!==t.groupName?t.groupName:t.queryName}function r(t){var e=s(t);return null!=e&&e.imageUrl===!0}function a(t){var e=s(t);return null!=e&&e.webUrl===!0}function s(t){return t&&t.type&&t.type.misc}function o(t){return t&&t.metadata&&t.metadata.columns&&t.metadata.columns.length?t.metadata.columns.some(function(t){return r(t)===!0}):!1}t.categoryIsAlsoSeriesRole=e,t.getSeriesName=i,t.isImageUrlColumn=r,t.isWebUrlColumn=a,t.getMiscellaneousTypeDescriptor=s,t.hasImageUrlColumn=o}(i=e.converterHelper||(e.converterHelper={}))}(i=e.dataview||(e.dataview={}))}(i=e.utils||(e.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(){}return e.getDefault=function(){return new this},e.createPropertyIdentifier=function(t,e){return{objectName:t,propertyName:e}},e.parse=function(e){var i,n=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return n;i=n.getProperties();for(var r in i)for(var a in i[r]){var s=n[r][a];n[r][a]=t.DataViewObjects.getCommonValue(e.metadata.objects,i[r][a],s)}return n},e.isPropertyEnumerable=function(t){return!e.InnumerablePropertyPrefix.test(t)},e.enumerateObjectInstances=function(t,e){var i=t&&t[e.objectName];if(!i)return[];var n={objectName:e.objectName,selector:null,properties:{}};for(var r in i)i.hasOwnProperty(r)&&(n.properties[r]=i[r]);return{instances:[n]}},e.prototype.getProperties=function(){var t=this,i={},n=Object.keys(this);return n.forEach(function(n){if(e.isPropertyEnumerable(n)){var r=Object.keys(t[n]);i[n]={},r.forEach(function(t){e.isPropertyEnumerable(n)&&(i[n][t]=e.createPropertyIdentifier(n,t))})}}),i},e}();e.InnumerablePropertyPrefix=/^_/,t.DataViewObjectsParser=e}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),powerbi;!function(t){var e;!function(e){var i;!function(e){var i;!function(e){\"use strict\";var i=t.extensibility.utils.dataview.DataViewObjectsParser,n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageSettings=new r,e.altTextSettings=new a,e}return __extends(e,t),e}(i);e.VisualSettings=n;var r=function(){function t(){this.scalingMode=\"normal\",this.imageAlignment=\"left\"}return t}();e.ImageSettings=r;var a=function(){function t(){this.show=!0,this.fontColor=\"#C8C8C8\",this.backgroundColor=\"\",this.textAlign=\"left\",this.fontSize=11,this.fontFamily=\"Segoe UI Light\"}return t}();e.AltTextSettings=a}(i=e.simpleImageEBC4593F96F1425FB3D84C5BF02B5075||(e.simpleImageEBC4593F96F1425FB3D84C5BF02B5075={}))}(i=e.visual||(e.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){\"use strict\";var e=function(){function e(t){this.target=t.element,\"undefined\"!=typeof document&&(this.imgElement=document.createElement(\"img\"),this.altTextElement=document.createElement(\"p\"),this.target.appendChild(this.imgElement),this.target.appendChild(this.altTextElement))}return e.prototype.update=function(t){var i=this,n=null,r=\"\";switch(t.dataViews[0].tree.root.children[0].values[0].value&&(n=t.dataViews[0].tree.root.children[0].values[0].value.toString()),this.settings=e.parseSettings(t&&t.dataViews&&t.dataViews[0]),t.dataViews[0].tree.root.children[0].values[1]&&(r=t.dataViews[0].tree.root.children[0].values[1].value.toString()),this.imgElement.onload=function(){i.imgElement.style.visibility=\"visible\",i.altTextElement.style.visibility=\"hidden\",i.update(t)},this.imgElement.onerror=function(){i.imgElement.style.visibility=\"hidden\",i.altTextElement.style.visibility=i.settings.altTextSettings.show?\"visible\":\"hidden\"},this.imgElement.src=n,this.imgElement.alt=r,this.altTextElement.innerText=r,this.settings.imageSettings.scalingMode){case\"normal\":var a=Math.min(this.target.clientWidth/this.imgElement.naturalWidth,this.target.clientHeight/this.imgElement.naturalHeight);this.imgElement.width=this.imgElement.naturalWidth*a,this.imgElement.height=this.imgElement.naturalHeight*a;break;case\"fit\":this.imgElement.height=this.target.clientHeight,this.imgElement.width=this.target.clientWidth;break;case\"none\":this.imgElement.width=this.imgElement.naturalWidth,this.imgElement.height=this.imgElement.naturalHeight}switch(this.settings.imageSettings.imageAlignment){case\"left\":this.imgElement.className=\"\";break;case\"center\":this.imgElement.className=\"alignCenter\";break;case\"right\":this.imgElement.className=\"alignRight\";break;case\"mleft\":this.imgElement.className=\"alignMiddleLeft\";break;case\"mcenter\":this.imgElement.className=\"alignMiddleCenter\";break;case\"mright\":this.imgElement.className=\"alignMiddleRight\"}this.altTextElement.style.fontFamily=this.settings.altTextSettings.fontFamily,this.altTextElement.style.fontSize=this.settings.altTextSettings.fontSize.toString()+\"px\",this.altTextElement.style.color=this.settings.altTextSettings.fontColor,this.altTextElement.style.backgroundColor=this.settings.altTextSettings.backgroundColor,this.altTextElement.style.textAlign=this.settings.altTextSettings.textAlign},e.parseSettings=function(e){return t.VisualSettings.parse(e)},e.prototype.enumerateObjectInstances=function(e){return t.VisualSettings.enumerateObjectInstances(this.settings||t.VisualSettings.getDefault(),e)},e}();t.Visual=e}(e=t.simpleImageEBC4593F96F1425FB3D84C5BF02B5075||(t.simpleImageEBC4593F96F1425FB3D84C5BF02B5075={}))}(e=t.visual||(t.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var i;!function(e){e.simpleImageEBC4593F96F1425FB3D84C5BF02B5075={name:\"simpleImageEBC4593F96F1425FB3D84C5BF02B5075\",displayName:\"Simple Image\",\"class\":\"Visual\",version:\"1.0.2\",apiVersion:\"1.13.0\",create:function(e){return new t.extensibility.visual.simpleImageEBC4593F96F1425FB3D84C5BF02B5075.Visual(e)},custom:!0}}(i=e.plugins||(e.plugins={}))}(e=t.visuals||(t.visuals={}))}(powerbi||(powerbi={}));","css":".visual-simpleImageEBC4593F96F1425FB3D84C5BF02B5075 p{width:100%;z-index:10}.visual-simpleImageEBC4593F96F1425FB3D84C5BF02B5075 img{display:block}.visual-simpleImageEBC4593F96F1425FB3D84C5BF02B5075 img.alignCenter{margin:0 auto}.visual-simpleImageEBC4593F96F1425FB3D84C5BF02B5075 img.alignRight{float:right}.visual-simpleImageEBC4593F96F1425FB3D84C5BF02B5075 img.alignMiddleLeft{position:absolute;top:50%;left:0%;transform:translate(0%, -50%)}.visual-simpleImageEBC4593F96F1425FB3D84C5BF02B5075 img.alignMiddleCenter{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.visual-simpleImageEBC4593F96F1425FB3D84C5BF02B5075 img.alignMiddleRight{position:absolute;top:50%;left:100%;transform:translate(-100%, -50%)}","iconBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFFSURBVDhPzZTfK0NhHIfP30du3ElSLolyIb8iahSpo1wQL9aWtDiRGmcuOJ3MmrOSWdtEFq04imbO7IqPved4z7be0y6Ok/bUU2/f9/s+l6/Q/CyQHXFXVnNeOL8WIsJSYH8FHiFuSsG64F3BnQwuGL53J+P/gnIOOMkDUR04fqzO6ZnO6B3dYXMGF4y9AIlX4OazatoAtMpMe7POtXd0Tt8wuGDyHUh9WMsXehl7l0/Ilr7tQLZUH0wVrTcMLkiX1Ici5qQkumcj6PLJGPfHcZ43EMnomNk6Q+fENpYPr5AxvuwwgwtOBjUz4mT7cAgt/esViWmPT8JR+rlx0ClUa8fUAdoG/Xa0dYBgOqD+vnYIjm4k0LeooFc8baCCodUoRkjMlsEFx6SCKxlcUL4uu5LBBf+KGaTfV1iJ33qh+X01OYLwA5RmOl/RNMs5AAAAAElFTkSuQmCC"}}